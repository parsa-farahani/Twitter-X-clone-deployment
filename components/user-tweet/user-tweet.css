:host {
   display: block;
   width: 100%;
   height: auto;
   border-bottom: var(--b-s-border);
   cursor: pointer;
   transition: background-color .2s;

   /* disabling blue highlight on tap */
   -webkit-tap-highlight-color: transparent;
   -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
:host:active {
   background-color: var(--post-active-bg);
}

a:any-link {
   color: inherit;
   text-decoration: none;
}

.sp-line {
   border: 0;
   flex: 1;
   width: 100%;
   height: 1px;
   margin: 0;
   background-color: var(--sp-c);
}

.sp-dot {
   color: var(--sec-c);
}
:host(.focused) .post-ctx__content-bar__header .sp-dot {
   display: none;
}

.post-ctx {
   padding: .75rem 1rem;
   display: flex;
   gap: var(--post-bars-gap);
   
}

:host(.focused) .post-ctx__author-img-bar {
   display: none;
}

:host(:not(.focused)) .post-ctx__author-img-bar {
   flex-shrink: 0;
   flex-grow: 0;
   width: var(--post-author-img-bar-w);
}

.post-ctx__author-img-bar__img-cont {
   width: 100%;
   aspect-ratio: 1 / 1;
   /* height: 40px; */
   border-radius: 50%;
   overflow: clip;

   &,
   & * {
      user-select: none;
   }
}

.post-ctx__author-img-bar__img-cont__img {
   display: block;
   width: 100%;
   height: 100%;
   object-fit: cover;
   object-position: center;
}

.post-ctx__content-bar {
   width: 100%;
   color: var(--main-c);
   container-type: inline-size;
   container-name: post-content-bar;
}

.post-ctx__content-bar__header {
   display: flex;
   align-items: flex-start;

   &,
   & * {
      user-select: none;
   }
}

.post-ctx__content-bar__header__author-link {
   display: flex;
   align-items: center;
}


.post-ctx__content-bar__header__author-link__avatar-cont {
   display: none;
   width: 40px;
   height: 40px;
   margin-right: .75rem;
   border-radius: 50%;
   overflow: clip;
}
:host(.focused) .post-ctx__content-bar__header__author-link__avatar-cont {
   display: inline-block;
}

.post-ctx__content-bar__header__author-link__avatar-cont__img {
   display: block;
   width: 100%;
   height: 100%;
   object-fit: cover;
   object-position: center;
}

.post-ctx__content-bar__header__author-link__names-cont {
   display: inline-flex;
   flex-direction: row;
}
:host(.focused) .post-ctx__content-bar__header__author-link__names-cont {
   flex-direction: column;
}



.post-ctx__content-bar__header__username {
   margin-right: .5rem;
   font-weight: 900;
}

.post-ctx__content-bar__header__id,
.post-ctx__content-bar__header__time {
   color: var(--sec-c);
   font-size: .9rem;
}

.post-ctx__content-bar__header__id {
}

.post-ctx__content-bar__header__time {}
:host(.focused) .post-ctx__content-bar__header__time {
   display: none;
}

.post-ctx__content-bar__header__follow-btn {
   display: none;
   padding: .25rem .75rem;
   margin-left: auto;
   margin-right: .5rem;
   background: var(--main-c);
   border-radius: 100vw;
   border: 0;
   color: var(--main-bg);
   font-size: .9rem;
   cursor: pointer;
}
:host(.focused) .post-ctx__content-bar__header__follow-btn {
   display: inline-block;
}

.post-ctx__content-bar__header__menu {
   position: relative;
   margin-left: auto;
}
:host(.focused) .post-ctx__content-bar__header__menu {
   margin-left: unset;
}

.post-ctx__content-bar__header__menu__panel {
   position: absolute;
   right: -9999px;
   top: 100%;
   background-color: var(--main-bg);
   border: var(--b-s-border);
   border-radius: .5rem;
   font-size: 1rem;
}
.post-ctx__content-bar__header__menu.active .post-ctx__content-bar__header__menu__panel {
   right: 0;
}

.post-ctx__content-bar__header__menu__panel__item {
   min-width: max-content;
   padding: .5rem;
   background-color: transparent;
   border: 0;
   border-radius: inherit;
}

.post-ctx__content-bar__header__menu__panel__item--delete {
   display: none;
   color: var(--danger-c);
}
:host(.user-post) .post-ctx__content-bar__header__menu__panel__item--delete {
   display: block;
}

.post-ctx__content-bar__header__menu__btn {
   background-color: transparent;
   border: 0;
   color: var(--sec-c);
   cursor: pointer;
}

.post-ctx__content-bar__header__menu__panel {

}

/* content */
.post-ctx__content {
   width: 100cqw;
}


.post-ctx__content__text {
   padding-block: 1rem;
   font-size: 1rem;
   line-height: 1.4lh;
}
:host(.focused) .post-ctx__content__text {
   font-size: 1.4rem;
}

.post-ctx__content__media {
   width: 100%;
   /* max-width: 100%; */
   max-height: 300px;
   display: grid;
   grid-template-columns: repeat(2, 1fr);
   grid-template-rows: repeat(2, 1fr);
   /* grid-template-areas:
     "f s"
     "f t"
   ; */
   overflow: clip;
   border-radius: var(--media-r);
   border: 0;

   &,
   & * {
      user-select: none;
   }
}
:host(.has-media) .post-ctx__content__media {
   aspect-ratio: 16 / 9;
}

:host(.has-media) .post-ctx__content__media {
   border: var(--b-s-border);
}

.post-ctx__content__media__inner {
   overflow: hidden;
   transition: filter .2s;
}
.post-ctx__content__media__inner:hover {
   filter: brightness(.8);
}

::slotted(.post-ctx__content__media__inner) {

}


/* <img> & <video> inside */
.post-ctx__content__media  img,
.post-ctx__content__media  video {
   display: block;
   width: 100%;
   height: 100%;
   object-fit: cover;
   object-position: center;
}



:host(.m-1) .post-ctx__content__media {
   /* one media -> normal form */
   gap: 0px;
}
:host(.m-2) .post-ctx__content__media,
:host(.m-3) .post-ctx__content__media,
:host(.m-4) .post-ctx__content__media {
   gap: .2rem;
}

/* only 1 media-tag */
:host(.m-1) .post-ctx__content__media *:nth-child(1) {
   grid-area: 1 / 1 / 3 / 3;
}

/* 2 media-tag */
:host(.m-2) .post-ctx__content__media *:nth-child(1), 
:host(.m-2) .post-ctx__content__media *:nth-child(1) {
   grid-area: 1 / 1 / 3 / 2;
}
:host(.m-2) .post-ctx__content__media *:nth-child(2), 
:host(.m-2) .post-ctx__content__media *:nth-child(2) {
   grid-area: 1 / 2 / 3 / 3;
}

/* 3 media-tag */
:host(.m-3) .post-ctx__content__media *:nth-child(1), 
:host(.m-3) .post-ctx__content__media *:nth-child(1) {
   grid-area: 1 / 1 / 3 / 2;
}
:host(.m-3) .post-ctx__content__media *:nth-child(2), 
:host(.m-3) .post-ctx__content__media *:nth-child(2) {
   grid-area: 1 / 2 / 2 / 3;
}
:host(.m-3) .post-ctx__content__media *:nth-child(3), 
:host(.m-3) .post-ctx__content__media *:nth-child(3) {
   grid-area: 2 / 2 / 3 / 3;
}

/* 4 media-tag(and upwards: 5, 6, ...) */
:host(.m-4) .post-ctx__content__media *:nth-child(1), 
:host(.m-4) .post-ctx__content__media *:nth-child(1) {
   grid-area: 1 / 1 / 2 / 2;
}
:host(.m-4) .post-ctx__content__media *:nth-child(2), 
:host(.m-4) .post-ctx__content__media *:nth-child(2) {
   grid-area: 1 / 2 / 2 / 3;
}
:host(.m-4) .post-ctx__content__media *:nth-child(3), 
:host(.m-4) .post-ctx__content__media *:nth-child(3) {
   grid-area: 2 / 1 / 3 / 2;
}
:host(.m-4) .post-ctx__content__media *:nth-child(4), 
:host(.m-4) .post-ctx__content__media *:nth-child(4) {
   grid-area: 2 / 2 / 3 / 3;
}

/* datetime & views */
.post-ctx__date-view-cont {
   display: none;
   padding-block: 1rem;
   color: var(--sec-c);
   font-size: .85rem;

}
:host(.focused) .post-ctx__date-view-cont {
   display: block;
}

.post-ctx__date-view-cont__view__num {
   color: var(--main-c);
}

.datetime-analytics-sp {
   display: none;
}
:host(.focused) .datetime-analytics-sp {
   display: block;
}
/* info */
.post-ctx__info {
   padding-top: 1rem;
   display: flex;
   flex-flow: row nowrap;
   align-items: center;
   justify-content: space-between;

   &,
   & * {
      user-select: none;
   }
}

.comments__link:any-link,
.post-ctx__info__btn,
.post-ctx__info__view {
   position: relative;
   z-index: 1;
   background-color: transparent;
   border: 0;
   margin-right: var(--post-info-marks-gap);
   display: inline-flex;
   gap: .4rem;
   align-items: center;
   color: var(--sec-c);
   font-size: .8rem;
   text-decoration: none;

}

:host(.focused) .post-ctx__info__view {
   display: none;
}

.post-ctx__info__btn {

   cursor: pointer;
}

.post-ctx__info__btn .icon--active {
   display: none;
}

.post-ctx__info__btn.active .icon--active {
   display: inline-block;
}

.post-ctx__info__btn.active .icon--inactive {
   display: none;
}

.repost-btn {

   &.active {
      color: var(--repost-c);
   }
}

.like-btn {
   &.active {
      color: var(--like-c);
   }
}

.save-btn {
   &.active {
      color: var(--save-c);
   }
}

.post-ctx__info__btn__icon-cont {
   display: inline-flex;
   align-items: center;
   justify-content: center;
}

.post-ctx__info__btn__icon-cont * {
   width: 1.2rem;
   height: 1.2rem;
}


:host(.focused) .pair-save-share-cont {
   display: none;
}

.save-btn--focused,
.share-btn--focused {
   display: none;
}
:host(.focused) .save-btn--focused,
:host(.focused) .share-btn--focused {
   display: inline-flex;
}

.save-btn--focused {

}

.share-btn--focused {

}